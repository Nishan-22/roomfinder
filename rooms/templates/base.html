<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Room Finder{% endblock %}</title>

    <!-- Tailwind -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>tailwind.config = { darkMode: 'class' }</script>

    <style>
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in { animation: fadeIn 0.8s ease-out forwards; }

        /* Navbar underline effect */
        .nav-link {
            position: relative;
            transition: color 0.3s;
        }
        .nav-link::after {
            content: "";
            position: absolute;
            width: 0%;
            height: 2px;
            bottom: -6px;
            left: 0;
            background: linear-gradient(to right, #2563eb, #4f46e5);
            transition: width 0.3s ease;
        }
        .nav-link:hover::after {
            width: 100%;
        }
    </style>
</head>

<body class="bg-[#f8fafc] dark:bg-gray-950 text-gray-900 dark:text-gray-100 min-h-screen">

<!-- ðŸŒŸ PREMIUM NAVBAR -->
<header id="navbar" class="sticky top-0 z-50 transition-all duration-500 bg-white/70 dark:bg-gray-900/70 backdrop-blur-md border-b border-transparent">
    <nav class="max-w-7xl mx-auto px-6 py-5 flex items-center justify-between">

        <a href="{% url 'room_list' %}" class="text-2xl font-black tracking-tight text-blue-600">
            RoomFinder
        </a>

        <div class="hidden md:flex items-center space-x-10 text-sm font-semibold">
            <a href="{% url 'room_list' %}" class="nav-link">Explore</a>
            {% if user.is_authenticated %}
                <a href="{% url 'add_room' %}" class="nav-link">Host Room</a>
            {% endif %}
        </div>

        <div class="flex items-center space-x-4">
            <button id="theme-toggle" class="p-2 rounded-full bg-gray-100 dark:bg-gray-800 hover:scale-110 transition">
                ðŸŒ™
            </button>

            {% if user.is_authenticated %}
                <span class="hidden sm:block text-sm font-semibold bg-gradient-to-r from-blue-600 to-indigo-500 text-white px-4 py-1.5 rounded-full shadow-md">
                    {{ user.username }}
                </span>

                <form action="{% url 'logout' %}" method="POST">
                    {% csrf_token %}
                    <button class="text-red-500 hover:text-red-600 text-sm font-bold">Logout</button>
                </form>
            {% else %}
                <a href="{% url 'login' %}" class="text-sm font-bold hover:text-blue-500">Login</a>
            {% endif %}
        </div>

    </nav>
</header>

<!-- PAGE CONTENT -->
<main class="pb-12">
    {% block content %}{% endblock %}
</main>

<footer class="text-center py-10 opacity-30 text-xs tracking-widest uppercase">
    Â© 2026 RoomFinder / Premium Living
</footer>

<!-- âš¡ Navbar scroll animation + Dark mode -->
<script>
const navbar = document.getElementById("navbar");

window.addEventListener("scroll", () => {
    if (window.scrollY > 20) {
        navbar.classList.add("shadow-lg", "backdrop-blur-xl", "bg-white/90", "dark:bg-gray-900/90");
    } else {
        navbar.classList.remove("shadow-lg", "backdrop-blur-xl", "bg-white/90", "dark:bg-gray-900/90");
    }
});

const themeToggleBtn = document.getElementById('theme-toggle');

if (localStorage.getItem('color-theme') === 'dark') {
    document.documentElement.classList.add('dark');
}

themeToggleBtn.addEventListener('click', () => {
    document.documentElement.classList.toggle('dark');
    localStorage.setItem('color-theme',
        document.documentElement.classList.contains('dark') ? 'dark' : 'light'
    );
});
</script>

</body>
</html>
